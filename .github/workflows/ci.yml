name: CI
on: push

jobs:
    format_analyze:
        runs-on: ubuntu-latest
        steps:
            - uses: actions/checkout@v6
            - uses: dart-lang/setup-dart@v1
            - run: dart pub get
            - run: dart format -o none --set-exit-if-changed $(find . -name "*.dart" ! -name "*.g.dart")
            - run: dart analyze --fatal-warnings --fatal-infos
